# 🎯 **רשימת בדיקות מקיפה ומפורטת עבור TaskFlow**

## 💾 **קטגוריה 4: שמירה וסנכרון נתונים (Data Persistence & Sync)**

### **4.3 גיבוי ושחזור (Backup & Restore)**

#### **📋 מבוא חשוב**
גיבוי (Backup) ושחזור (Restore) הם מנגנונים קריטיים ל־TaskFlow – כדי להבטיח שלא יאבד נתון, אפשרות מעבר חלק בין מכשירים, הגנה מפני תקלות שרת, טעויות משתמש, מתקפות סייבר, מחיקת מידע בשוגג, או דרישות רגולטוריות.  
מערכת מקצועית צריכה גיבוי אוטומטי, אפשרות ייצוא/ייבוא, שחזור סלקטיבי או מלא, שקיפות תהליך, ניהול גרסאות, התראה על תקלות – והכל בלי לפגוע ב־UX, בפרטיות, באבטחה או בביצועים.

---

## 🧪 **רשימת בדיקות מלאה**

### **4.3.1 אסטרטגיית גיבוי – מה, כמה, מתי**
- [ ] **מה מגובה?**
    - כל שיחה, הודעה, קובץ מצורף, טיוטה, הגדרות משתמש, פרופיל, סטטוסים.
    - קבצי מערכת (Logs, Metadata), תצורות, הרשאות.
    - קבצים/הודעות שנמחקו – האם מגובים לפרק זמן?

- [ ] **מתי מתבצע גיבוי?**
    - אוטומטי (כל X שעות/ימים/פעולות).
    - יזום ע"י משתמש ("ייצא נתונים", "הורד גיבוי").
    - Manual Trigger – אפשרות גיבוי לפני פעולה מסוכנת (שחזור, עדכון גרסה).
    - Edge: עבודה אינטנסיבית – האם המערכת לא "נחנקת" מגיבויים תכופים מדי?

- [ ] **איפה נשמר הגיבוי?**
    - שרת מאובטח (Cloud, S3, GCP, Azure).
    - גיבוי ל־Local (דפדפן, קובץ JSON, ZIP).
    - Edge: גיבוי דו־שלבי – גם בענן, גם אצל המשתמש.

- [ ] **גרסאות גיבוי (Backup Versions):**
    - שמירת היסטוריית גיבויים (Versioning) – אפשרות לבחור תאריך/גרסה לשחזור.
    - Edge: מגבלת מקום – מה קורה כשמלא? גיבוי חדש מוחק ישן? התראה למשתמש?

---

### **4.3.2 ייצוא, הורדה, ייבוא (Export/Import)**
- [ ] **אפשרות ייצוא נתונים מלא/סלקטיבי:**
    - ייצוא כל השיחות/היסטוריה/הגדרות/פרופיל.
    - ייצוא שיחה/קטע מסוים בלבד (בחירה מתוך רשימה).
    - פורמטים נפוצים (JSON, CSV, ZIP), תיעוד מבנה קובץ.

- [ ] **ייצוא קבצים מצורפים:**
    - כל קובץ בשיחה/היסטוריה – כלול ב־Backup.
    - שמירה על שמות, סוגים, קבצים מוצפנים.

- [ ] **ייבוא נתונים – Restore:**
    - אפשרות ייבוא לכל המשתמש/לשיחה בודדת/לפרופיל.
    - בדיקות תקינות – קובץ לא תקין, נתונים כפולים, פורמט שגוי (שגיאה ברורה).
    - Edge: ייבוא על מידע קיים – האם נדרס, מתמזג, יש Confirm למשתמש?

- [ ] **שמירה על הרשאות, תיוגים, היסטוריית שינויים – גם אחרי ייבוא/ייצוא.**

---

### **4.3.3 ממשק משתמש (UX) – שקיפות, תיעוד, חיווי**
- [ ] **UI ברור לפעולות גיבוי/שחזור:**
    - כפתור "גבה עכשיו", "שחזר", "ייצא".
    - סטטוס גיבוי אחרון, תאריך/שעה.
    - התראה על הצלחה/כשלון, Progress Bar.

- [ ] **אזהרות לפני פעולה מסוכנת (שחזור דריסת נתונים):**
    - Modal עם Confirm, אפשרות לשמור גיבוי קודם.
    - תיעוד מלא – מה ייגבה, מה יימחק, מה יידרס.

- [ ] **אפשרות לשחזור גרסה קודמת – הצגת הבדלים (Diff).**

- [ ] **חיווי שגיאות:**
    - קובץ לא תקין, בעיית הרשאות, חוסר מקום, חיבור איטי.

---

### **4.3.4 תפקוד אוטומטי ו־Edge Cases**
- [ ] **גיבוי אוטומטי – עמידות לקריסות רשת/שרת:**
    - Retry אוטומטי בגיבוי שנכשל, הודעה למשתמש.
    - Edge: גיבוי באמצע עבודה – מה נשמר, מה לא?  
    - גיבוי בפורמט "דלף" – האם קורא חלקי? האם מזהיר?

- [ ] **שחזור אוטומטי אחרי כשל מערכת:**
    - קריסת מערכת/שרת – אפשרות לשחזור מלא מה־Backup האחרון.
    - Edge: גיבוי פגום/חסר – התראה, נסיון לשחזר חלקית.

- [ ] **התאוששות מתקלות משתמש:**
    - מחיקת שיחה/הודעה/קובץ בטעות – אפשרות Undo/שחזור מהגיבוי.
    - Edge: שחזור שיחה שנמחקה ואז מחיקה חוזרת – אין כפילויות, אין באגים.

---

### **4.3.5 פרטיות, אבטחה והרשאות**
- [ ] **הגנה על גיבויים:**
    - שמירה מוצפנת (At-Rest & In-Transit).
    - הרשאות – רק המשתמש/אדמין יכול לגבות/לשחזר.
    - Edge: ניסיון לייבא גיבוי של משתמש אחר – שגיאה, תיעוד Audit Log.

- [ ] **גישה ל־API גיבוי/שחזור – מוגנת ב־Token/JWT.**
    - הגבלת Rate/Quota – מניעת Abuse (לדוג' ייבוא/ייצוא חוזר).

- [ ] **בדיקת עמידה ברגולציה (GDPR/ישראל):**
    - אפשרות למחוק גיבויים לצמיתות ("Right to be Forgotten").
    - Edge: בקשת מחיקה – מה קורה ל־Backup בענן? מחיקה מיידית/מושהית?

- [ ] **התראה על ניסיון כושל/פעולה חריגה – למשתמש ולמנהל.**

---

### **4.3.6 ביצועים ותזמון**
- [ ] **גיבוי ושחזור מהירים – גם בנתונים גדולים (GB+).**
    - Progress Bar, ETA.
    - Edge: ייבוא קובץ ענק – אין קריסה, יש עצירת תהליך/חיווי איטיות.

- [ ] **גיבוי דיפרנציאלי (רק שינויים) – להקטנת משאבים.**
    - Edge: האם ניתן לשחזר רק קטע/שיחה/טווח זמנים?

---

### **4.3.7 ניטור, לוגים ותיעוד**
- [ ] **כל פעולה נרשמת:**
    - התחלת גיבוי, סיום, הצלחה/כשלון, ייבוא, שחזור.
    - זיהוי משתמש, זמן, סוג פעולה, מקור (Web, Mobile).

- [ ] **התראות – גיבוי שלא הצליח, גיבוי ישן מדי, כשל בשחזור.**
    - אפשרות חיפוש בלוג – מי גיבה, מתי, איזה קובץ.

- [ ] **מערכת ניהול גיבויים – רשימת גרסאות, נפח, אפשרות מחיקה/שחזור/הורדה.**

---

### **4.3.8 בדיקות אוטומטיות/ידניות**
- [ ] **Cypress/Playwright – ייצוא/ייבוא, גיבוי אוטומטי/ידני, שחזור שיחה/כלל נתונים.**
- [ ] **Edge: ייבוא קובץ פגום, גיבוי חלקי, גיבוי לא תואם גרסה.**
- [ ] **בדיקות הרשאות – ניסיון גיבוי/שחזור לא מורשה.**
- [ ] **בדיקות עומס – אלפי גיבויים/משתמשים, קבצים גדולים.**
- [ ] **בדיקות שחזור בזמן אמת – המשך עבודה תוך כדי Restore.**
- [ ] **בדיקות GDPR – מחיקת גיבוי, אנונימיזציה בייצוא.**

---

## 🏅 **Best Practices ל־TaskFlow – גיבוי ושחזור**
- **גיבוי אוטומטי לכל שינוי מהותי, שמירה ב־Cloud מוצפן.**
- **אפשרות ייצוא/ייבוא גמישה, פורמטים פתוחים (JSON, ZIP).**
- **UI ברור, חיווי לכל שלב, אפשרות Undo/Redo.**
- **שחזור סלקטיבי/מלא, ניהול גרסאות, Diff בין גיבויים.**
- **שמירה על הרשאות, הצפנה, עמידה ברגולציה.**
- **בדיקות אוטומטיות לכל סנריו, Edge Cases, תקלות.**
- **תיעוד מלא בלוגים, התראות למשתמש ולמפתחים.**
- **ניטור נפח/גיל גיבויים, ניקוי אוטומטי של ישנים.**
- **שקיפות – המשתמש תמיד יודע מה מגובה, מתי, ואיך לשחזר.**

---

## ✅ **סיכום**
גיבוי ושחזור הם רשת הביטחון של TaskFlow – לכל משתמש, בכל תקלה.  
עברו על כל סעיף, סמנו ✔️ או ❌, תעדו הערות, ותעדפו תיקונים/שיפורים לפי חומרה.

---