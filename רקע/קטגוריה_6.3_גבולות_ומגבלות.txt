# 🎯 **רשימת בדיקות מקיפה ומפורטת עבור TaskFlow**

## ⚡ **קטגוריה 6: ביצועים ויציבות (Performance & Stability)**

### **6.3 גבולות ומגבלות (Limits & Quotas)**

#### **📋 מבוא חשוב**
ניהול גבולות (Limits), מגבלות (Quotas), ותקרות (Thresholds) הוא אחד המרכיבים הקריטיים ליציבות, ביצועים, חוויית משתמש, אבטחה ומניעת מתקפות ב-TaskFlow.  
הגדרת גבולות נכונה מונעת קריסות מהעומס, מגנה מפני Abuse, שומרת על חוויית עבודה תקינה לכל המשתמשים, ומאפשרת תכנון משאבים נכון בענן.  
גבולות צריכים להיות גמישים, מתועדים, נגישים למשתמש, כוללים חיווי בממשק, תיעוד בלוגים, טיפול ב־Edge Cases, תכנון ל־Scaling, ומנגנוני Override (למנהל/בתשלום).  
רשימה זו מכסה את כל הגבולות – אפליקטיביים, תשתיתיים, עסקיים – מכל כיוון.

---

## 🧪 **רשימת בדיקות מלאה**

### **6.3.1 גבולות אפליקטיביים (Application-Level Limits)**
- [ ] **מספר שיחות/הודעות למשתמש:**
    - תקרה לשיחות פתוחות במקביל (לדוג' 1,000).
    - תקרה להודעות בשיחה אחת (לדוג' 10,000).
    - Edge: ניסיון לעבור את התקרה – הודעה למשתמש, חסימת פעולה, לוג.

- [ ] **גודל הודעה/קובץ:**
    - תקרה לגודל הודעה (לדוג' 10,000 תווים/1MB).
    - תקרה לקובץ מצורף (לדוג' 20MB), סך קבצים בשיחה.
    - Edge: ניסיון לצרף קובץ ענק – הודעה, קיוץ/דחיסה, חסימה.

- [ ] **מספר קבצים מצורפים בשיחה/הודעה:**
    - הגבלה ל־N קבצים בהודעה/שיחה.
    - Edge: ניסיון להוסיף קובץ נוסף – ממשק לא מאפשר, הודעה ברורה.

- [ ] **אורך שם שיחה/כותרת:**
    - מגבלת תווים (לדוג' 80).
    - Edge: ניסיון שם ארוך – קיטום אוטומטי, חיווי.

---

### **6.3.2 גבולות תשתיתיים (Infrastructure/Backend Limits)**
- [ ] **Rate Limiting לכל API:**
    - X קריאות לדקה/שעה/יום לכל משתמש/IP.
    - מנגנון Burst – טיפוסי/חריג.
    - Edge: הצפה – Lockout זמני, התראה, לוג.

- [ ] **Connection Limits:**
    - תקרת חיבורים במקביל ל־DB, WebSocket, Storage.
    - Edge: חיבור נוסף – Reject, Queue, הודעה.

- [ ] **DB Quotas:**
    - גודל מקסימלי לחשבון/שיחה/משתמש ב־DB (לדוג' 1GB).
    - Edge: חריגה – חסימה, הודעה, הצעה שדרוג.

- [ ] **תקרות שירותי ענן (Cloud Provider):**
    - שימוש ב־S3/Firestore/Redis – הגדרת Quota, ניטור חריגה.
    - Edge: חריגה – Fallback, Scale Up, התראה למנהל.

---

### **6.3.3 גבולות חוויית משתמש (UX Limits & Feedback)**
- [ ] **ממשק שמציג מד "הגעת לתקרה":**
    - Counter ברור (לדוג' 998/1000 שיחות).
    - Progress Bar, הודעות בזמן אמת.

- [ ] **הודעות שגיאה/אזהרה ידידותיות:**
    - מה נחסם, למה, איך להמשיך (לדוג' פנה לתמיכה, שדרג מסלול).

- [ ] **ממשק Override (Admin/Support):**
    - אפשרות הארכת מגבלה זמנית למשתמש ספציפי.
    - Edge: שדרוג מסלול, Override אוטומטי – תיעוד מלא בלוג.

---

### **6.3.4 גבולות אבטחה ומניעת Abuse**
- [ ] **הגנה מפני מתקפות הצפה (DoS):**
    - Rate Limiting, CAPTCHA אחרי חריגה, Blacklist IP.
    - Edge: זיהוי דפוס חריג – Block אוטומטי, התראה.

- [ ] **מניעת Brute Force:**
    - תקרת נסיונות Login/2FA, השהייה אחרי כישלונות.
    - Edge: התראה למשתמש/מנהל.

- [ ] **הגנה על API – מגבלות לפי Scope/Role:**
    - Admin – מגבלות גבוהות, Guest – מגבלות קטנות.
    - Edge: ניסיון הרשאה לא תואמת – חסימה, לוג.

- [ ] **מניעת Abuse ב־Storage:**
    - תקרת העלאות, סה"כ קבצים למשתמש/שיחה.
    - Edge: ניצול לרעה – השעיה אוטומטית, דיווח.

---

### **6.3.5 גבולות עסקיים ומסלול (Plan Quotas & Business Rules)**
- [ ] **הבדלים בין מסלולים – Free/Pro/Enterprise:**
    - מספר שיחות/הודעות/קבצים/גודל אחסון משתנה לפי מסלול.
    - Edge: מעבר מסלול – עדכון מידי של גבולות.

- [ ] **שדרוג מסלול – הצעה אוטומטית בעת חריגה.**
    - חיווי בממשק, קליק למעבר, שמירת נתונים קיימים.

- [ ] **בדיקת תקינות – אי אפשר להוריד מסלול אם עוברים את התקרה של המסלול החדש.**
    - Edge: ניסיון Downgrade – אזהרה, הצעת פתרון.

---

### **6.3.6 ניטור, לוגים, התראות**
- [ ] **כל חריגה – מתועדת בלוג, התראה למשתמש ולמנהל.**
    - מי, מתי, מה חרג, כמה פעמים, מה נחסם.

- [ ] **Dashboard למנהלים – סטטיסטיקת חריגות, מגמות שימוש, משתמשים "על הסף".**

- [ ] **כל ניסיון Override – תיעוד מלא, אפשרות Audit.**

---

### **6.3.7 בדיקות אוטומטיות ו־Edge Cases**
- [ ] **בדיקות עומס – ניסיון לחרוג ממגבלות (API, הודעות, קבצים).**
- [ ] **בדיקות ממשק – האם נבלם מהצד הנכון (Frontend, Backend, DB)?**
- [ ] **Edge: חריגה במצב Offline – מה קורה ב־Sync?**
- [ ] **בדיקות Downgrade/Upgrade – מעבר מסלול, שמירה/איבוד נתונים.**
- [ ] **Stress Test – ניסיון לפתוח אלפי שיחות/להעלות מאות קבצים.**
- [ ] **Abuse Test – ניסיון הצפה ממספר מכשירים/משתמשים.**

---

### **6.3.8 תיעוד, שקיפות, חוויית משתמש**
- [ ] **תיעוד מלא של כל מגבלה – עמוד Help, Tooltip, FAQ.**
    - לכל פעולה – מה המגבלה, איך לעקוף/להרחיב, מה ההשלכות.

- [ ] **הצגת מגבלות למשתמש – במסך הגדרות, פרופיל, תפריט מסלול.**
    - Edge: חיווי בזמן אמת – "נשארו לך 2 שיחות", "תקרת Storage מתקרבת".

- [ ] **API/SDK – תיעוד מדויק של Rate Limit, Size Limit, Quotas.**

---

### **6.3.9 Best Practices – גבולות ומגבלות**
- **הגדרת מגבלות ברורה – לכל שכבה, תפקיד, פעולה.**
- **Rate Limiting דו־שכבתי – API, DB, משתמש, IP, Role.**
- **חיווי למשתמש – בזמן אמת, הודעות ברורות, Progress.**
- **אפשרות Override – למנהלים, מסלולי Pro/Enterprise.**
- **ניטור תמידי – Dashboard, התראות, לוגים.**
- **הגנה מפני Abuse – הצפה, סקריפטים, ניצול לרעה.**
- **בדיקות אוטומטיות – עומס, Edge, Abuse.**
- **שקיפות – תיעוד מלא, חוויית משתמש מלמדת.**
- **תמיכה ב־Scaling – העלאת תקרות אוטומטית לפי צורך.**
- **Fallback/Graceful Degradation – אין קריסה בחריגה.**

---

## ✅ **סיכום**
גבולות ומגבלות הם לא עונש – הם תשתית ליציבות, אבטחה, חוויית משתמש חיובית, ותכנון עסקי חכם.  
עברו על כל סעיף, סמנו ✔️ או ❌, תעדו הערות, ותעדפו תיקונים/שיפורים לפי חומרה.

---