# 🎯 **רשימת בדיקות מקיפה ומפורטת עבור TaskFlow**

## 💬 **קטגוריה 2: מערכת הצ'אט (Chat System)**

### **2.1 יצירת שיחה חדשה (New Conversation Creation)**

#### **מבוא חשוב**
פונקציית "יצירת שיחה חדשה" היא מהותית ל־TaskFlow, כי כל תהליך, פרוייקט, או אינטראקציה מתחילים בשיחה חדשה. החוויה חייבת להיות אינטואיטיבית, מיידית, חסינה לשגיאות, מתועדת היטב – וללא תקלות גם בתרחישים קיצוניים.  
ברשימה הזו תמצא את כל בדיקות ה־UI, פונקציונליות, סנכרון, Edge Cases, UX, התממשקות ל־API, שמירה, והרשאות.

---

## 🧪 **רשימת בדיקות מלאה**

### **2.1.1 נראות ונגישות כפתור "צ'אט חדש" (UI/UX Placement)**
- [ ] **כפתור "צ'אט חדש" (New Chat / +):**
    - ממוקם במקום מרכזי, בולט, עקבי, נגיש – Header, Sidebar, Floating Action Button, או תפריט צף.
    - תמיד מוצג – גם כשאין אף שיחה קיימת.
    - לחיץ ועם פידבק חזותי (Hover, Focus, Active).
    - תיאור/Tooltip ברור ("צור שיחה חדשה", "New Conversation").
    - אייקון מתאים (פלוס, בועה, עט, וכו').
    - נגישות מלאה – ניתן להגיע אליו עם מקלדת (Tab), עם קורא מסך (aria-label).

---

### **2.1.2 התנהגות לחיצה על כפתור "צ'אט חדש" (Button Behavior)**
- [ ] **לחיצה – מה קורה?**
    - נפתח Chat ריק (חלון/טאב/פאנל), ממורכז, עם שדה קלט פנוי.
    - רשימת ההודעות ריקה, אין היסטוריה.
    - מוצג חיווי/אינדיקציה ברורה שמדובר בשיחה חדשה ("שיחה חדשה", "Untitled", Header ריק או עם ערך ברירת מחדל).
    - הפוקוס מועבר אוטומטית לשדה ההקלדה.
    - אין טעינה איטית / השהיה מורגשת – חוויה מיידית.
    - אם השיחה נוצרת באמצעות API/DB – יש Spinner/Loader קצר (עד 300ms).
    - אם יש תקלה – הודעת שגיאה ברורה ("לא ניתן ליצור שיחה, נסה שוב").

---

### **2.1.3 שמירה אוטומטית של שיחה חדשה (Persistence & Saving)**
- [ ] **מתי השיחה נשמרת בפועל?**
    - מיד עם היצירה (On Click), או רק לאחר שליחת הודעה ראשונה?  
      (יש לבדוק מדיניות: האם נוצרת instance ב-DB בשניה שלוחצים +, או רק כשיש תוכן).
    - בדוק: פתח "שיחה חדשה" וסגור דף בלי לכתוב כלום – האם מופיעה השיחה ברשימת השיחות? האם נוצרה ב-DB?
    - רשום תרחיש: יצירת 3 שיחות חדשות, לא לשלוח הודעה – האם נשמרו?
    - שלח הודעה בשיחה חדשה – האם נשמר מיידית והופיעה ברשימה/DB?
    - Edge Case: נתק באינטרנט אחרי פתיחת שיחה – מה קורה? השיחה נשמרה? מופיעה אחרי Refresh?

---

### **2.1.4 תיוג וניהול כותרת (Title Handling/UI)**
- [ ] **כותרת ברירת מחדל ("שיחה חדשה"/"Untitled"):**
    - מופיעה תמיד בשיחה חדשה.
    - משתנה אוטומטית לפי ההודעה הראשונה (אם יש מדיניות כזו).
    - מאפשר למשתמש לערוך/לשנות (Double Click, Edit Icon).
    - אין כפילויות/בלבול – ניתן להבדיל בין שיחות חדשות.

- [ ] **רשימת שיחות – השיחה החדשה בראש/בסוף?**
    - תמיד בראש/עליון ברשימה? או מופיעה לפי סדר יצירה?

- [ ] **שיחה חדשה ללא שם – מה קורה אחרי שליחת הודעה/שינוי שם?**
    - מתעדכן מיידית?
    - נשמר/מסונכרן לכל המכשירים?

---

### **2.1.5 פתיחת מספר שיחות חדשות ברצף (Multiple New Chats/Concurrency)**
- [ ] **יצירת 2+ שיחות חדשות ברצף:**
    - אין קריסות, אין בלבול ברשימה.
    - כל שיחה מקבלת מזהה ייחודי (ID), כותרת "שיחה חדשה X" אם צריך.
    - כל שיחה נפתחת בנפרד – אין ערבוב הודעות, לוגים, או זיהוי DB.
    - בדוק: צור 5 שיחות, עשה Refresh, ודא שכולן קיימות.
    - Edge Case: צור שיחה חדשה בכל טאב/Browser, בדוק סנכרון.

---

### **2.1.6 סגירת דף מיד אחרי יצירת שיחה חדשה**
- [ ] **האם השיחה נשמרת (Auto-Save)?**
    - פתח שיחה חדשה → סגור TAB/DAPP → חזור – האם נמצאת ברשימה?
    - Edge Case: סגור באמצע טעינה, או תוך כדי Spinner – מה קורה?
    - האם יש Undo/Trash/שחזור לשיחות שלא נשלחה בהן הודעה?
    - האם לא נוצרות "שיחות רפאים" (שיחות ריקות שתוקעות את הרשימה)?

---

### **2.1.7 פתיחת שיחה חדשה במקביל ב-2 טאבים/דפדפנים (Multi-Tab/Device Sync)**
- [ ] **סנכרון בזמן אמת:**
    - פתח שיחה חדשה בטאב A, פתח טאב B – האם מופיעה מיד?
    - Edge Case: פתח שיחה חדשה ב-2 טאבים – נוצרות שתי שיחות שונות? אין כפילויות?
    - שינוי שם/שליחת הודעה בטאב אחד → רפרש בשני – האם מתעדכן?
    - האם יש מנגנון reconciliation במקרה של התנגשות (Conflict Resolution)?
    - מה קורה אם אין אינטרנט בטאב אחד – השיחה מסתנכרנת אחרי החיבור?

---

### **2.1.8 הרשאות וגישה (Permissions & Access)**
- [ ] **האם כל משתמש יכול ליצור שיחה חדשה?**
    - הרשאות נכונות לפי Role (USER, ADMIN, GUEST).
    - גסט/אורח – האם מותר ליצור שיחה? האם יש מגבלות?
    - מה קורה אם נגמרו המשאבים/הגעת למגבלת שיחות?

- [ ] **בדיקת Limit:**  
    - נסה ליצור 1000 שיחות – מה קורה?  
    - האם מתקבלת הודעת שגיאה ברורה/הגבלת Rate Limiting?

---

### **2.1.9 חוויית משתמש (UX) ותקלות**
- [ ] **Feedback MESSAGES:**
    - הודעת הצלחה/כישלון ברורה – "שיחה חדשה נוצרה", "לא ניתן ליצור שיחה".
    - Spinner/Loader קצר והיעלמות מהירה.
    - אינדיקציה במקרה של תקלה (Network Lost, API Error, Limit).
    - אין צורך בריענון ידני – הכל מתעדכן אוטומטית.

- [ ] **גישה לנגישות מלאה:**
    - פוקוס אוטומטי בשדה קלט.
    - תמיכה בקורא מסך (aria-labels).
    - טאב אינדקס נכון.
    - תצוגה תקינה ב־RTL/עברית.

---

### **2.1.10 בדיקות אבטחת מידע (Security)**
- [ ] **בדיקת הרשאות ב־API:**  
    - אין אפשרות ליצור שיחה חדשה ע"י קריאה ישירה ל-API ללא הרשאות.
    - ניסיונות Injection/SQL/XSS בכותרת – לא פוגעים.
    - כל שיחה חדשה משויכת למשתמש (Owner ID) – אין אפשרות לראות שיחה שלא שלך.

---

### **2.1.11 לוגים, אנליטיקס ומעקב**
- [ ] **לוגים ברורים:**  
    - כל יצירת שיחה חדשה נרשמת – זמן, יוזר, מזהה שיחה.
    - ניתן לעקוב אחרי כמות שיחות חדשות (Analytics).
    - אין חשיפת מידע רגיש בלוגים.

---

### **2.1.12 Edge Cases – תרחישי קצה**
- [ ] **יצירת שיחה חדשה תוך כדי תקלה בשרת/DB:**  
    - מה רואה המשתמש? האם יש אוטומציה ל־Retry?
    - האם נשמר ב־Local Storage לסנכרון מאוחר יותר?

- [ ] **יצירת שיחה חדשה בזמן שידרוג מערכת/Restart:**  
    - האם מנותקת? השיחה נשמרה?

- [ ] **שימוש במובייל/דסקטופ/טאבלט:**  
    - חווית יצירת שיחה חדשה זהה בכל פלטפורמה.  
    - אין קריסות/באגים/עיצוב שבור.

---

## 🏅 **Best Practices ל־TaskFlow:**
- **כפתור "צ'אט חדש" תמיד גלוי, בולט, עם Tooltip.**
- **כל שיחה חדשה נשמרת אוטומטית, גם אם לא נשלחה הודעה.**
- **מזהה ייחודי לכל שיחה, מניעת כפילויות.**
- **עדכון מיידי וסנכרון לכל טאבים/דפדפנים.**
- **פידבק מהיר וברור למשתמש על כל פעולה.**
- **תמיכה מלאה בנגישות (WCAG), RTL, מובייל.**
- **בדיקות אוטומטיות לכל תרחיש (Cypress, Playwright).**
- **אנליטיקס – מעקב אחרי אחוז שיחות ריקות/נטושות.**
- **תיעוד מדיניות שמירה – מתי ומדוע נשמרת שיחה ריקה.**

---

## ✅ **סיכום**
היכולת ליצור שיחה חדשה ב־TaskFlow חייבת להיות חלקה, אינטואיטיבית, סלחנית לשגיאות, ועמידה בכל תרחיש. כל הסעיפים הנ"ל הם קריטיים למוצר מקצועי, אמין ונעים לשימוש.  
**עבור סעיף-סעיף, סמנו ✔️ או ❌, תעדו הערות, ותעדפו שיפורים לפי חומרה.**

---